---
import { DevpadHeader, DevpadFooter } from "@devpad/core/ui";
import BaseLayout from "./base-layout.astro";

interface Props {
	title?: string;
}

const { title = "Blog" } = Astro.props;
const pathname = Astro.url.pathname;
const authUser = Astro.locals.user;
---

<BaseLayout title={title}>
	<div id="container" class="stack">
		<header class="unified-header">
			<DevpadHeader client:load currentApp="blog" user={authUser} />
			<div class="unified-header__row2">
				<nav class="unified-header__subnav">
					<a href="/posts" class:list={[{ active: pathname.startsWith("/posts") }]}>posts</a>
					<a href="/categories" class:list={[{ active: pathname.startsWith("/categories") }]}>categories</a>
					<a href="/settings" class:list={[{ active: pathname.startsWith("/settings") }]}>settings</a>
				</nav>
			</div>
		</header>

		<main>
			<slot />
		</main>
	</div>

	<DevpadFooter client:load text="blog.devpad.tools" />
</BaseLayout>
