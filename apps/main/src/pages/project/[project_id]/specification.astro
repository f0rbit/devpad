---
import { getProject } from "@/utils/api-client";
import PageLayout from "@/layouts/PageLayout.astro";
import ProjectLayout from "@/layouts/ProjectLayout.astro";
import SpecificationEditor from "@/components/solid/SpecificationEditor";

const project_id = Astro.params.project_id!;

const guard = await getProject(Astro);
if (guard instanceof Response) return guard;
const { project } = guard;
---

<PageLayout title={`Specification - ${project_id}`}>
	<ProjectLayout project_id={project_id}>
		<SpecificationEditor project_id={project.id} initial={project.specification ?? ""} has_github={project.repo_url != null} client:load />
	</ProjectLayout>
</PageLayout>
